{"ast":null,"code":"// import React, { useState } from 'react';\n\n// const UploadPatientData = () => {\n//   const [jsonData, setJsonData] = useState(null);\n\n//   // Hàm xử lý chọn file\n//   const handleFileChange = (event) => {\n//     const file = event.target.files[0];\n//     if (file && file.type === \"application/json\") {\n//       const reader = new FileReader();\n//       reader.onload = () => {\n//         try {\n//           const parsedData = JSON.parse(reader.result);\n//           setJsonData(parsedData);\n//         } catch (error) {\n//           alert(\"File không hợp lệ!\");\n//         }\n//       };\n//       reader.readAsText(file);\n//     } else {\n//       alert(\"Vui lòng chọn file JSON!\");\n//     }\n//   };\n\n//   // Hàm gửi dữ liệu từng bệnh nhân lên server\n//   const handleSubmit = async () => {\n//     if (!jsonData || !Array.isArray(jsonData)) {\n//       alert(\"Dữ liệu không hợp lệ!\");\n//       return;\n//     }\n\n//     // Lặp qua từng bệnh nhân trong jsonData và gửi từng cái một\n//     for (const patient of jsonData) {\n//       try {\n//         const response = await fetch('http://127.0.0.1:8888/api/viewsAPIBacSi/', {\n//           method: 'POST',\n//           headers: {\n//             'Content-Type': 'application/json',\n//           },\n//           body: JSON.stringify(patient), // Chỉ gửi một bệnh nhân\n//         });\n\n//         if (!response.ok) {\n//           throw new Error('Lỗi khi gửi dữ liệu');\n//         }\n\n//         const result = await response.json();\n//         console.log('Dữ liệu đã gửi thành công:', result);\n\n//       } catch (error) {\n//         console.error('Lỗi khi gửi bệnh nhân:', patient.hoTenBenhNhan, error);\n//       }\n//     }\n//   };\n\n//   return (\n//     <div>\n//       <h1>Upload dữ liệu bệnh nhân</h1>\n\n//       {/* Input chọn file JSON */}\n//       <input \n//         type=\"file\" \n//         accept=\".json\" \n//         onChange={handleFileChange} \n//       />\n//       <button onClick={handleSubmit}>Gửi lên Server</button>\n\n//       {/* Hiển thị dữ liệu JSON nếu có */}\n//       {jsonData && (\n//         <div>\n//           <h3>Dữ liệu JSON đã tải lên:</h3>\n//           <pre>{JSON.stringify(jsonData, null, 2)}</pre>\n//         </div>\n//       )}\n\n//       {/* Nút gửi dữ liệu lên server */}\n\n//     </div>\n//   );\n// };\n\n// export default UploadPatientData;","map":{"version":3,"names":[],"sources":["D:/React/Demo/source/Front-end/src/UploadPatientData.js"],"sourcesContent":["// import React, { useState } from 'react';\r\n\r\n// const UploadPatientData = () => {\r\n//   const [jsonData, setJsonData] = useState(null);\r\n\r\n//   // Hàm xử lý chọn file\r\n//   const handleFileChange = (event) => {\r\n//     const file = event.target.files[0];\r\n//     if (file && file.type === \"application/json\") {\r\n//       const reader = new FileReader();\r\n//       reader.onload = () => {\r\n//         try {\r\n//           const parsedData = JSON.parse(reader.result);\r\n//           setJsonData(parsedData);\r\n//         } catch (error) {\r\n//           alert(\"File không hợp lệ!\");\r\n//         }\r\n//       };\r\n//       reader.readAsText(file);\r\n//     } else {\r\n//       alert(\"Vui lòng chọn file JSON!\");\r\n//     }\r\n//   };\r\n\r\n//   // Hàm gửi dữ liệu từng bệnh nhân lên server\r\n//   const handleSubmit = async () => {\r\n//     if (!jsonData || !Array.isArray(jsonData)) {\r\n//       alert(\"Dữ liệu không hợp lệ!\");\r\n//       return;\r\n//     }\r\n\r\n//     // Lặp qua từng bệnh nhân trong jsonData và gửi từng cái một\r\n//     for (const patient of jsonData) {\r\n//       try {\r\n//         const response = await fetch('http://127.0.0.1:8888/api/viewsAPIBacSi/', {\r\n//           method: 'POST',\r\n//           headers: {\r\n//             'Content-Type': 'application/json',\r\n//           },\r\n//           body: JSON.stringify(patient), // Chỉ gửi một bệnh nhân\r\n//         });\r\n\r\n//         if (!response.ok) {\r\n//           throw new Error('Lỗi khi gửi dữ liệu');\r\n//         }\r\n\r\n//         const result = await response.json();\r\n//         console.log('Dữ liệu đã gửi thành công:', result);\r\n\r\n//       } catch (error) {\r\n//         console.error('Lỗi khi gửi bệnh nhân:', patient.hoTenBenhNhan, error);\r\n//       }\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <div>\r\n//       <h1>Upload dữ liệu bệnh nhân</h1>\r\n\r\n//       {/* Input chọn file JSON */}\r\n//       <input \r\n//         type=\"file\" \r\n//         accept=\".json\" \r\n//         onChange={handleFileChange} \r\n//       />\r\n//       <button onClick={handleSubmit}>Gửi lên Server</button>\r\n      \r\n//       {/* Hiển thị dữ liệu JSON nếu có */}\r\n//       {jsonData && (\r\n//         <div>\r\n//           <h3>Dữ liệu JSON đã tải lên:</h3>\r\n//           <pre>{JSON.stringify(jsonData, null, 2)}</pre>\r\n//         </div>\r\n//       )}\r\n\r\n//       {/* Nút gửi dữ liệu lên server */}\r\n\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default UploadPatientData;\r\n"],"mappings":"AAAA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}